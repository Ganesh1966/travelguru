<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup page</title>
    <link rel="stylesheet" href="./../styles/signup_page.css">
   <style>
      
   </style>
</head>

<body>
<!--     <div id="main_div"> -->
       <div class="p1">
          <h2> Common account on Yatra & Travelguru</h2>
          
          <form onsubmit="signup(event)">
            
          <label>FIRST NAME</label>
          </br>
          <input type="text" class="box" id="fn" required/>
          </br></br>
          <label>LAST NAME</label>
          </br>
          <input type="text" class="box"  id="ln" required/>
           </br></br>
          <label>MOBILE NUMBER</label>
         </br>
         <div class="selector">
         <select>
            <option value="91">India (+91)</option>
             <option value="256">USA (+256)</option>
             <option value="545">Australia (+545)</option>
             <option value="30">Greece (+30)</option>
             <option value="39">Italy (+39)</option>
             <option value="81">Japan (+81)</option>
             <option value="43">Austria (+43)</option>
             <option value="1">Canada(+1)</option>
             <option value="39">Italy (+39)</option>
         </select>
          <input type="number" class="box"  id="mn" required/>
        </div>
        </br>
          <label>EMAIL ID</label>
        </br>
         <input type="email" class="box"  id="eid" required/>
         <div id="email_m">Email is already registered.</div>
        </br>
         <label>PASSWORD</label>
        </br>
         <input type="password" class="box"  id="pw"  required/>
        </br>  </br>
         <label>COMFIRM PASSWORD</label>
        
        </br>
         <input type="password" class="box" id="cpw"  required/>
         <div id="password_missmatch_m">Password and confirmed password is a missmatch.</div>
         </br>
        <input type="checkbox" class="checkbox_red" value="true" checked="true"> 
        <label>I would like to be kept informed of special promotions and offers by Travelguru.</label>
         </br>
        <input type="submit" class="buttons" value="Register" > 
       
       </form>
     </div>
     <div class="imagepart">
        <div id="imagetxt">
         <p>Already have an account on Travelguru.com</p>
         <input type="button" class="loginbtn" onclick="loginpagego()" value="LOGIN HERE" >
        </div>
     <!--    <img src="https://www.travelguru.com/content/tg-social/images/tghomestays.png"> -->
     </div>
    <!-- </div> -->
    <script>
        //sugnup should have emailid& password
        var user_details=[
           
        ];
        
        function loginpagego(){
            console.log("hi");
            window.location=("./../pages/signin.html");
        }
        console.log(user_details);
        function signup(event){
            var regsucc=false;
            event.preventDefault();
            var fname=document.getElementById("fn").value;
            var lname=document.getElementById("ln").value;
            var mob=document.getElementById("mn").value;
            var mail=document.getElementById("eid").value;
            var pass=document.getElementById("pw").value;
            var cpass=document.getElementById("cpw").value;
            if(cpass!=pass){
                var miss_pwd=document.getElementById('password_missmatch_m');
                miss_pwd.style.visibility="visible";

            }
           
           else if( my_checkif_user(mail)===false) {
            var divv=document.getElementById('email_m');
            divv.style.visibility = "visible";
               console.log("exist");
           }
            else {
                var newuseradd= {
                    emailid:mail,
                    password:pass,
                }
              user_details.push(newuseradd);
              regsucc=true;
            }
           
            var local_user=localStorage.setItem("user_details",JSON.stringify(user_details));
            console.log(user_details);
            if(regsucc==true) window.location=("./../pages/redirectpage.html");
        }
        function  my_checkif_user(mail){
            var local_user_details=localStorage.getItem("user_details");
         var ud=JSON.parse(local_user_details);
            for(var i=0;i<ud.length;i++){
                if(ud[i].emailid==mail) return false;
            }
            return true;
        }
    </script>
</body>
</html>